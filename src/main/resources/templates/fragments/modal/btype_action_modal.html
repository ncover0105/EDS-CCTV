<div th:fragment="btype_action_modal">

    <div class="modal fade" id="btype_action_modal" tabindex="-1"
        aria-labelledby="btypeActionTestModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-scrollable">
            <div class="modal-content">

                <!-- Ìó§Îçî -->
                <div class="modal-header">
                    <h3 class="modal-title" id="speakerTestModalLabel">
                        Ïä§ÌîºÏª§ ÌÖåÏä§Ìä∏
                    </h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <!-- Î∞îÎîî -->
                <div class="modal-body">

                    <div class="row">

                        <!-- ==============================
                            üîπ LEFT: ÏàòÎèôÎ∞úÎ†π ÏòÅÏó≠
                        =============================== -->
                        <div class="col-lg-6 p-3 border-end">
                            <h4 class="mb-3">ÏàòÎèôÎ∞úÎ†π</h4>

                            <div class="mb-3">
                                <label class="form-label">Ïã§Ï†ú/Ïã§Ìóò</label>
                                <select id="alertMode" class="form-select">
                                    <option value="0">Ïã§Ìóò</option>
                                    <option value="1" selected>Ïã§Ï†ú</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Í≤ΩÎ≥¥ Ï¢ÖÎ•ò</label>
                                <select id="DisasterCode" class="form-select">
                                    <option value="0" selected>CFW</option>
                                    <option value="1">ACL</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Î∞©ÏÜ° Ï¢ÖÎ•ò</label>
                                <select id="alertKind" class="form-select">
                                    <option value="1" selected>TTS</option>
                                    <option value="2">Ï†ÄÏû• Î©îÏãúÏßÄ</option>
                                    <option value="3">Í∏∞ÌÉÄ</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Î∞©ÏÜ° Î≤îÏúÑ</label>
                                <select id="alertRange" class="form-select">
                                    <option value="1">ÏãúÎèÑ</option>
                                    <option value="2">Íµ∞</option>
                                    <option value="3" selected>Ïä§ÌîºÏª§</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Ïö∞ÏÑ†ÏàúÏúÑ</label>
                                <select id="alertPriority" class="form-select">
                                    <option value="0">ÏóÜÏùå</option>
                                    <option value="1">Ï£ºÏùò</option>
                                    <option value="2">Í≤ΩÍ≥Ñ</option>
                                    <option value="3" selected>ÏúÑÌóò</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">TTS Î©îÏãúÏßÄ</label>
                                <textarea id="TTSMessage" class="form-control" rows="3"></textarea>
                            </div>

                            <button id="alert_btn" class="btn btn-primary w-100 mb-4">Î∞úÎ†π</button>

                            <!-- BGM Ï†úÏñ¥ -->
                            <h5>BGM Ï†úÏñ¥</h5>
                            <div class="d-grid gap-2">
                                <button id="bgm_on_btn" class="btn btn-success">BGM ON</button>
                                <button id="bgm_off_btn" class="btn btn-danger">BGM OFF</button>
                            </div>
                        </div>

                        <!-- ==============================
                            üîπ RIGHT: BÌÉÄÏûÖ Ïä§ÌîºÏª§ Ï†úÏñ¥ ÌÖåÏä§Ìä∏ ÏòÅÏó≠
                        =============================== -->
                        <div class="col-lg-6 p-3">
                            <h4 class="mb-3">BÌÉÄÏûÖ Ïä§ÌîºÏª§ Ï†úÏñ¥ ÌÖåÏä§Ìä∏</h4>

                            <div class="mb-3">
                                <label class="form-label fw-bold">Ïä§ÌîºÏª§ ID ÏûÖÎ†•</label>
                                <input id="testSpeakerIds" class="form-control" placeholder="Ïòà: SPK001,SPK002">
                            </div>

                            <!-- Ïï°ÏÖò ÏÑ†ÌÉù -->
                            <div class="mb-3">
                                <label class="form-label fw-bold">Action ÏÑ†ÌÉù</label>
                                <select id="btypeActionSelect" class="form-select">
                                    <option value="status" selected>status - ÏÉÅÌÉú ÏöîÏ≤≠</option>
                                    <option value="time">time - ÏãúÍ∞Ñ ÎèôÍ∏∞</option>
                                    <option value="reset">reset</option>
                                    <option value="getSpeakerSettings">getSpeakerSettings</option>
                                    <option value="getVolume">getVolume</option>
                                    <option value="insBgmVolume">insBgmVolume</option>
                                    <option value="insAlertVolume">insAlertVolume</option>
                                </select>
                            </div>

                            <!-- extraParam -->
                            <div class="mb-3">
                                <label class="form-label fw-bold">extraParam (ÏÑ†ÌÉù)</label>
                                <input type="text" id="btypeExtraParamInput" class="form-control"
                                    placeholder="HEX Í∞í Ïòà: 32, 01, FF">
                            </div>

                            <!-- BÌÉÄÏûÖ Ïã§Ìñâ Î≤ÑÌäº -->
                            <button id="btypeActionSendBtn" class="btn btn-secondary w-100 mb-3">
                                BÌÉÄÏûÖ Ïï°ÏÖò Ïã§Ìñâ
                            </button>

                            <!-- Î°úÍ∑∏ Ï∂úÎ†• -->
                            <h5 class="mt-4 d-flex justify-content-between align-items-center">
                                ÎèôÏûë Î°úÍ∑∏
                                <button id="clearLogBtn" class="btn btn-sm btn-secondary">Ï¥àÍ∏∞Ìôî</button>
                            </h5>
                            <div id="speakerTestLogArea"
                                class="border rounded p-2"
                                style="height: 400px; overflow-y:auto;
                                    background:#111; color:#0f0;
                                    font-family:monospace; font-size:12px;
                                    white-space: pre-line;">
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Ìë∏ÌÑ∞ -->
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">
                        Îã´Í∏∞
                    </button>
                </div>

            </div>
        </div>
    </div>

</div>
